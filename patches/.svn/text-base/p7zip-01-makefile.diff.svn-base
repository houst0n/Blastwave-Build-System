--- p7zip_4.57/makefile.solaris_x86.orig	2008-02-01 23:22:39.657061220 +0530
+++ p7zip_4.57/makefile.solaris_x86	2008-02-01 23:24:01.197029639 +0530
@@ -1,16 +1,14 @@
 
-OPTFLAGS=-O
-
-ALLFLAGS=${OPTFLAGS} -s \
+ALLFLAGS=-s \
     	-D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE \
-	-DENV_UNIX \
+        $(ENDIAN_MACRO) -DENV_UNIX \
 	-DNDEBUG -D_REENTRANT \
 	$(LOCAL_FLAGS)
 
-CXX=g++ $(ALLFLAGS)
-CC=gcc $(ALLFLAGS)
-CC_SHARED=-fPIC
-LINK_SHARED=-fPIC -shared
+CXX=$(MY_CXX) $(CXX_OPTFLAGS) $(ALLFLAGS)
+CC=$(MY_CC) $(CC_OPTFLAGS) $(ALLFLAGS)
+CC_SHARED=
+LINK_SHARED=-G
 
 LOCAL_LIBS=-lpthread -lrt
 LOCAL_LIBS_DLL=$(LOCAL_LIBS) -ldl
